# üå¶Ô∏è Telegram –ë–æ—Ç –ü–æ–≥–æ–¥–∏

Telegram –±–æ—Ç, —è–∫–∏–π –Ω–∞–¥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–≥–æ–¥—É –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –º—ñ—Å—Ç, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ API OpenWeatherMap. –í—ñ–Ω –∫–µ—à—É—î –¥–∞–Ω—ñ –ø—Ä–æ –ø–æ–≥–æ–¥—É, —â–æ–± –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–∫–ª–∏–∫–∏ API —Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —É –∑—Ä—É—á–Ω–æ–º—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ñ–æ—Ä–º–∞—Ç—ñ. –¶–µ–π –±–æ—Ç –¥–æ–∑–≤–æ–ª—è—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º —à–≤–∏–¥–∫–æ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω—ñ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏ –¥–ª—è –ø–µ—Ä–µ–ª—ñ–∫—É –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –º—ñ—Å—Ç –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ Telegram.

## üìù–ó–º—ñ—Å—Ç

1.  [üöÄ –ö–ª—é—á–æ–≤—ñ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ](#-–∫–ª—é—á–æ–≤—ñ-–æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ)
2.  [üõ†Ô∏è –°—Ç–µ–∫ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ–π](#-—Å—Ç–µ–∫-—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π)
3.  [üì¶ –ü–æ—á–∞—Ç–æ–∫ –†–æ–±–æ—Ç–∏](#-–ø–æ—á–∞—Ç–æ–∫-—Ä–æ–±–æ—Ç–∏)
    * [–ü–µ—Ä–µ–¥—É–º–æ–≤–∏](#–ø–µ—Ä–µ–¥—É–º–æ–≤–∏)
    * [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
    * [–õ–æ–∫–∞–ª—å–Ω–∏–π –ó–∞–ø—É—Å–∫](#–ª–æ–∫–∞–ª—å–Ω–∏–π-–∑–∞–ø—É—Å–∫)
4.  [üíª –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
5.  [üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç—É)

## üöÄ –ö–ª—é—á–æ–≤—ñ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **–û—Ç—Ä–∏–º–∞–Ω–Ω—è –î–∞–Ω–∏—Ö –ü—Ä–æ –ü–æ–≥–æ–¥—É:** –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –¥–∞–Ω—ñ –ø—Ä–æ –ø–æ–≥–æ–¥—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –∑ API OpenWeatherMap.
- **–ú–µ—Ö–∞–Ω—ñ–∑–º –ö–µ—à—É–≤–∞–Ω–Ω—è:** –í–ø—Ä–æ–≤–∞–¥–∂—É—î —Å–∏—Å—Ç–µ–º—É –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–º–µ–Ω—à–µ–Ω–Ω—è –≤–∏–∫–ª–∏–∫—ñ–≤ API —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —á–∞—Å—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –î–∞–Ω—ñ –ø—Ä–æ –ø–æ–≥–æ–¥—É –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—Ä–æ—Ç—è–≥–æ–º –≤–∏–∑–Ω–∞—á–µ–Ω–æ–≥–æ —á–∞—Å—É (```CACHE_DURATION```).
- **–ó—Ä—É—á–Ω–∏–π –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ù–∞–¥–∞—î –ø—Ä–æ—Å—Ç–∏–π —Ç–∞ —ñ–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ –∑—Ä–æ–∑—É–º—ñ–ª–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram —ñ–∑ –≤–∑–∞—î–º–æ–¥—ñ—î—é –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–º–∞–Ω–¥.
- **–í–±—É–¥–æ–≤–∞–Ω–∞ –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∞ (Inline Keyboard):** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–±—É–¥–æ–≤–∞–Ω—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –≤–∏–±–æ—Ä—É –º—ñ—Å—Ç–∞.
- **–û–±—Ä–æ–±–∫–∞ –ü–æ–º–∏–ª–æ–∫:** –ù–∞–¥—ñ–π–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –¥–ª—è –∑–∞–ø–∏—Ç—ñ–≤ API —Ç–∞ –ø—Ä–æ–±–ª–µ–º —ñ–∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º.
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π —ñ –ø–æ–º–∏–ª–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–∏ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è.
- **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ß–µ—Ä–µ–∑ –ó–º—ñ–Ω–Ω—ñ –°–µ—Ä–µ–¥–æ–≤–∏—â–∞:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó, —è–∫-–æ—Ç –∫–ª—é—á—ñ API —Ç–∞ —Ç–æ–∫–µ–Ω–∏ –±–æ—Ç–∞.
- **–î–æ—Å—Ç—É–ø–Ω—ñ –ú—ñ—Å—Ç–∞:** –ü–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —Å–ø–∏—Å–æ–∫ –º—ñ—Å—Ç, –¥–ª—è —è–∫–∏—Ö –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ–≥–æ–¥—É.

## üõ†Ô∏è –°—Ç–µ–∫ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ–π

- **–ú–æ–≤–∞ –ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è:** Python
- **API Telegram –ë–æ—Ç–∞:** `telebot` (pyTelegramBotAPI)
- **HTTP –ó–∞–ø–∏—Ç–∏:** `requests`
- **–ó–º—ñ–Ω–Ω—ñ –°–µ—Ä–µ–¥–æ–≤–∏—â–∞:** `dotenv`
- **–û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ –°–∏—Å—Ç–µ–º–∞:** –ù–µ–∑–∞–ª–µ–∂–Ω–∞ –≤—ñ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏
- **API:** OpenWeatherMap API
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è:** –ú–æ–¥—É–ª—å `logging`
- **–Ü–Ω—à–µ:** `os`, `time`

## üì¶ –ü–æ—á–∞—Ç–æ–∫ –†–æ–±–æ—Ç–∏

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- Python 3.6 –∞–±–æ –≤–∏—â–µ
- Telegram –∞–∫–∞—É–Ω—Ç
- –ö–ª—é—á API OpenWeatherMap (–í–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –Ω–∞ [OpenWeatherMap](https://openweathermap.org/))
- –¢–æ–∫–µ–Ω Telegram –ë–æ—Ç–∞ (–í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –±–æ—Ç–∞ —Ç–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–∫–µ–Ω —É [BotFather](https://t.me/botfather) –≤ Telegram)

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1.  –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:

    ```bash
    git clone https://github.com/Freelancerm/homework29.git
    cd homework29
    ```

2.  –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):

    ```bash
    python3 -m venv venv
    source venv/bin/activate  # On Linux/macOS
    venv\Scripts\activate  # On Windows
    ```

3.  –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

    ```bash
    pip install -r requirements.txt
    ```

4.  –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω–µ–≤–æ–º—É –∫–∞—Ç–∞–ª–æ–∑—ñ —Ç–∞ –¥–æ–¥–∞–π—Ç–µ —Å–≤—ñ–π –∫–ª—é—á API —Ç–∞ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:

    ```
    TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
    API_KEY=YOUR_OPENWEATHERMAP_API_KEY
    ```

   –ó–∞–º—ñ–Ω—ñ—Ç—å `YOUR_TELEGRAM_BOT_TOKEN` —Ç–∞ `YOUR_OPENWEATHERMAP_API_KEY` –Ω–∞ –≤–∞—à—ñ —Ñ–∞–∫—Ç–∏—á–Ω—ñ —Ç–æ–∫–µ–Ω–∏.

### –õ–æ–∫–∞–ª—å–Ω–∏–π –ó–∞–ø—É—Å–∫

1.  –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:

    ```bash
    python weather_bot.py
    ```

2.  –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞ –≤ Telegram, –Ω–∞–¥—ñ—Å–ª–∞–≤—à–∏ –∫–æ–º–∞–Ω–¥—É `/start`.

## üíª –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1.  –ù–∞–¥—ñ—à–ª—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É `/start` –±–æ—Ç—É, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.
2.  –ù–∞–¥—ñ—à–ª—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É `/help`, —â–æ–± –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –∫–æ–º–∞–Ω–¥.
3.  –í–∏–±–µ—Ä—ñ—Ç—å –º—ñ—Å—Ç–æ –∑ –≤–±—É–¥–æ–≤–∞–Ω–æ—ó –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –ø–æ–≥–æ–¥—É.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ weather_bot.py       # –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è Telegram –±–æ—Ç–∞ –ø–æ–≥–æ–¥–∏
‚îú‚îÄ‚îÄ requirements.txt    # –°–ø–∏—Å–æ–∫ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π Python
‚îú‚îÄ‚îÄ .env                # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–∫–ª—é—á—ñ API, —Ç–æ–∫–µ–Ω–∏)
‚îú‚îÄ‚îÄ app.log             # –§–∞–π–ª –ª–æ–≥—É –¥–ª—è –ø–æ–¥—ñ–π —ñ –ø–æ–º–∏–ª–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–∏
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–µ–∫—Ç—É (—Ü–µ–π —Ñ–∞–π–ª)
```
